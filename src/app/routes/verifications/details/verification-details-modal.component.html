<div class="modal-body">
    <tabset [justified]="true" type="pills">
        <tab>
            <ng-template tabHeading>Verification Details</ng-template>
            <div *ngIf="verification?.type == 'Bank Account Details'">
                <br/>
                <br/>
                <fieldset>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Refernce Number</label>
                        <label class="col-sm-3 control-label">{{verification.ref}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Verification Status</label>
                        <label class="col-sm-3 control-label">{{verification.status}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Date Created</label>
                        <label class="col-sm-3 control-label">{{verification.created | date: "dd-MMM-yy"}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Last Updated</label>
                        <label class="col-sm-3 control-label">{{verification.updated | date: "dd-MMM-yy"}}</label>
                        <br/>
                        <br/>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Title</label>
                        <label class="col-sm-3 control-label">{{verification.title}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Initials</label>
                        <label class="col-sm-3 control-label">{{verification.initials}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Surname</label>
                        <label class="col-sm-3 control-label">{{verification.surname}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">ID Number</label>
                        <label class="col-sm-3 control-label">{{verification.idNo}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Bank Name</label>
                        <label class="col-sm-3 control-label">{{verification.bank}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Branch</label>
                        <label class="col-sm-3 control-label">{{verification.branch}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Account Type</label>
                        <label class="col-sm-3 control-label">{{verification.accType}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Account Number</label>
                        <label class="col-sm-3 control-label">{{verification.accNo}}</label>
                        <br/>
                        <br/>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label class="col-sm-6 control-label">Account Currently Open</label>
                        <label class="col-sm-3 control-label">{{verification.ACC_OPEN}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-6 control-label">Account Debits</label>
                        <label class="col-sm-3 control-label">{{verification.ACC_DEBITS}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-6 control-label">Account Credits</label>
                        <label class="col-sm-3 control-label">{{verification.ACC_CREDITS}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-6 control-label">Account Open 90 Days</label>
                        <label class="col-sm-3 control-label">{{verification.ACC_LENGTH}}</label>
                        <br/>
                        <br/>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-sm-2"></div>
                            <div class="col-sm-4"><button href="" (click)="savePdf()" class="button btn btn-block btn-success">Save as PDF</button>
                            </div>
                            <div class="col-sm-4"><button (click)="bsModalRef.hide()" class="button btn btn-block btn-danger">Close</button>
                            </div>
                            <div class="col-sm-2"></div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <div *ngIf="verification?.type == 'Full Investigation'">
                <fieldset>
                    <div class="form-group">
                        <br/>
                        <br/>
                        <label class="col-sm-3 control-label">Reference</label>
                        <label class="col-sm-6 control-label">{{verification.id}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Verification Type</label>
                        <label class="col-sm-6 control-label">{{verification.type}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">First Name</label>
                        <label class="col-sm-6 control-label">{{verification.firstName}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Surname</label>
                        <label class="col-sm-6 control-label">{{verification.surname}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">ID Number</label>
                        <label class="col-sm-6 control-label">{{verification.idNo}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Email Address</label>
                        <label class="col-sm-6 control-label">{{verification.email}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Cellphone</label>
                        <label class="col-sm-6 control-label">{{verification.cellPhone}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Work Phone</label>
                        <label class="col-sm-6 control-label">{{verification.workPhone}}</label>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Bank</label>
                        <label class="col-sm-6 control-label">{{verification.bank}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Account Type</label>
                        <label class="col-sm-6 control-label">{{verification.accType}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Account Number</label>
                        <label class="col-sm-6 control-label">{{verification.accNo}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Amount</label>
                        <label class="col-sm-6 control-label">R {{verification.amount | number}}</label>
                        <br/>
                        <br/>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Name of Benefit</label>
                        <label class="col-sm-6 control-label">{{verification.benefitName}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Type of Benefit</label>
                        <label class="col-sm-6 control-label">{{verification.benefitType}}</label>
                        <br/>
                        <br/>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Notes</label>
                        <div class="col-sm-6">
                            <table class="table">
                                <tbody>
                                    <tr *ngFor="let note of verification.Notes | orderBy : '-created'">
                                        <td>
                                            <div class="text text-muted">{{note.note}}</div>
                                        </td>
                                        <td width="20%">
                                            <div class="text text-muted">{{note.created | date: "dd-MMM-yy"}}</div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <br/>
                        <br/>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Supporting Documents</label>
                        <div class="col-sm-6">
                            <table styles="border:0px !important;" class="table">
                                <tbody ngFor="event in verification.Events| orderBy : '-created'">
                                    <tr ngFor="file in event.attachment">
                                        <td> <a target="_blank" href="{{file?.fileUrl}}">{{file?.type}}</a>
                                        </td>
                                        <td width="20%">
                                            <div class="text text-muted">{{file?.created | date: "dd-MMM-yy"}}</div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <br/>
                            <br/>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <div ng-if="details.kmc &amp;&amp; verification.status === 'pending' " class="row">
                        <div class="col-sm-3"><a href="" ng-click="details.openModal('lg', 'verified')" class="button btn btn-block btn-success">Verify</a>
                        </div>
                        <div class="col-sm-3"><a href="" ng-click="details.openModal('lg', 'alerts')" class="button btn btn-block btn-danger">Reject</a>
                        </div>
                        <div class="col-sm-3"><a href="" ng-click="details.retrieveModal('lg', 'retrieve')" class="button btn btn-block btn-warning">Retrieve Details</a>
                        </div>
                        <div class="col-sm-3"><a href="" ng-click="details.openModal('lg', 'note')" class="button btn btn-block btn-info">Add Note</a>
                        </div>
                    </div>
                </fieldset>
            </div>
        </tab>
        <tab>
            <ng-template tabHeading>Verification Timeline</ng-template>
            <div>
                <br/>
                <br/>
                <ul class="timeline-alt">
                    <li *ngFor=" let event of verification.events">
                        <div class="timeline-badge {{event.colour}}">
                            <em style="line-height:inherit;" class="{{event.icon}} fa-2x"></em>
                        </div>
                        <div class="timeline-panel">
                            <div class="popover right">
                                <h4 class="popover-title">
                                    {{event.heading}}
                                    <span class="pull-right">)</span>
                                    <span class="pull-right">{{event.created | amTimeAgo}}</span>
                                    <span class="pull-right">{{event.created | date: "dd-MM-yy HH:mm"}} (</span>
                                </h4>
                                <div class="arrow"></div>
                                <div class="popover-content">
                                    <p>{{event.primary}}</p>
                                    <br/>
                                    <small>{{event.secondary}}</small>
                                    <br/>
                                    <div *ngFor="let file of event.attachment">
                                        <a target="_blank" href="{{file.fileUrl}}">
                                            <em class="fa fa-paperclip"></em>
                                            {{file.type}}
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </tab>
    </tabset>
</div>